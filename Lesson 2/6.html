<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Lesson 2. Task 6</title>
</head>
<body>

<script>

    "use strict";


    /*    Программа должна спросить у пользователя количество денег, которое он хочет положить в банк.
          Пользователь должен ввести целое число, а программа должна выдать соответствующее сообщение: 
          "Ваша сумма в 101 рубль успешно зачислена." - в случае если пользователь ввел 101. 
          "Ваша сумма в 10020 рублей успешно зачислена." - в случае если пользователь ввел 10020. 
          "Ваша сумма в 120104 рубля успешно зачислена." - в случае если пользователь ввел 120104.
           Если пользователь введет любое другое целое число, программа также должна выдать соответствующее сообщение,
          в котором будет отображено это число, а также поставить верное окончание в слове "рубль".
          Для получения верного склонения слова (любого слова с числом) вам необходимо создать функцию.*/

    /**
     * Функция проверяет число на его целочисленность.
     * @param {number} x Число, которое вводит пользователь.
     * @param {string} mess Сообщение в prompt, которое будет видеть пользователь.
     * @returns {number} Вернет число х, проверив его на целочисленность.
     */
    function isValid(x, mess) {
        while (true) {
            x = +prompt(mess);
            if (Number.isNaN(x) || x % 1 !== 0 || x <= 0) {
                alert('Необходимо ввести целое число');
                continue;
            }
            return x;
        }
    }

    /**
     * Функция проверяет число и выдает верное к нему склонение.
     * @param {number} count Передает сумму, которую указал пользователь.
     * @param {string} one Передает 1 вариант склонения.
     * @param {string} two Передает 2 вариант склонения.
     * @param {string} five Передает 3 вариант склонения.
     * @returns {string} Возвращает правильное склонение.
     */
    function declension(count, one, two, five) {
        let lastNumbers = count % 100;
        let lastNumber = lastNumbers % 10;
        if (lastNumbers >= 5 && lastNumbers <= 20) {
            return five;
        } else if (lastNumber > 1 && lastNumber < 5) {
            return two;
        } else if (lastNumber === 1) {
            return one;
        } else {
            return five;
        }
    }

    let amount = 0;
    amount = isValid(amount, "Какое количество денег вы хотите положить в банк?");
    alert(`Ваша сумма в ${amount} ${declension(amount, 'рубль', 'рубля', 'рублей')} успешно зачислена`);

</script>


</body>
</html>